<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset="UTF-8">
    </head>
    <body>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>

        
        <div class="results">
            Results:
        </div>
        <div class="scores">
            <div class="playerScores">
                Player:
            </div>
            <div class="cpuScores">
                Computer:
            </div>
        </div>


    <script>
        // buttons is a node list. It looks and acts much like an array.
        const buttons = document.querySelectorAll('button');

        // we use the .forEach method to iterate through each button
        buttons.forEach((button) => {

        // and for each one we add a 'click' listener
        button.addEventListener('click', function(){ 
            playRound(button.id, computerPlay());
            });
        });

        const results = document.querySelector('.results');
        const result = document.createElement('p');
        results.appendChild(result);

        const playerScores = document.querySelector('.playerScores');
        const playerScore = document.createElement('p');
        playerScores.appendChild(playerScore);

        const cpuScores = document.querySelector('.cpuScores');
        const cpuScore = document.createElement('p');
        cpuScores.appendChild(cpuScore);

        let playerPoints = 0;
        let cpuPoints = 0;

        playerScore.textContent = playerPoints;
        cpuScore.textContent = cpuPoints;

        function computerPlay() {
            //Computer randomly returns either rock, paper or scissors
            let num = Math.floor(Math.random() * Math.floor(3))
            let computerSelection;
            if (num === 0) {
                computerSelection = "Rock" 
            } 
            else if (num === 1) {
                computerSelection = "Paper"
            }
            else {
                computerSelection = "Scissors"
            }
            return computerSelection.toLowerCase()
        }

        function playRound(playerSelection, computerSelection) {
            if (playerSelection == "rock" && computerSelection == "paper") {
                result.textContent = "You lose! paper beats rock";
                cpuPoints++;
                cpuScore.textContent = cpuPoints;
            }
            else if (playerSelection == "paper" && computerSelection == "scissors") {
                result.textContent = "You lose! scissors beats paper";
                cpuPoints++;
                cpuScore.textContent = cpuPoints;
            }
            else if (playerSelection == "scissors" && computerSelection == "rock") {
                result.textContent = "You lose! rock beats scissors";
                cpuPoints++;
                cpuScore.textContent = cpuPoints;
            }
            else if (playerSelection === computerSelection) {
                result.textContent = "It's a tie!";
            }
            else {
                result.textContent = `You win! ${playerSelection} beats ${computerSelection}`;
                playerPoints++;
                playerScore.textContent = playerPoints;
            }

            if (playerPoints === 5) {
                alert("Player wins!")
            }
            else if (cpuPoints === 5) {
                alert("Computer wins.")
            }
            
        }

        /*
        function game() {
            let i = 0;
            while (i < 5) {
                i ++
                choice = prompt("Choose rock, paper, or scissors").toLowerCase()
                computer = computerPlay()
                console.log(`Round ${i}: You chose ${choice} and were up against ${computer}.`)
                playRound(choice, computer)
                console.log(`Player Points: ${playerPoints} | Computer Points ${cpuPoints}`)
            }
            
            
            if (playerPoints === cpuPoints) {
                console.log("It's a tie. Play again.")
            }
            else if (playerPoints > cpuPoints) {
                console.log("Congrats! You won the game!")
            }
            else {
                console.log("Sorry, the computer won this time. Play again.")
            }
            
           
        }

        */

    </script>
    </body>
</html>